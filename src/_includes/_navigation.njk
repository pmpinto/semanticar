<nav class="navigation" data-controller="navigation" data-app-target="navigation">
  <div class="wrapper">
    <a href="/" class="navigation__home-link">
      <img draggable="false" src="/static_assets/images/semanticar-logo.svg" alt="Semanticar logo" class="navigation__logo">
      <span class="visually-hidden">Ir para a página inicial</span>
    </a>

    <button class="navigation__toggle" data-action="click->navigation#toggle">
      <img src="/static_assets/icons/list.svg" alt="navigation icon">
      <span class="visually-hidden">Alternar navegação</span>
    </button>

    <div class="navigation__panel">
      <button class="navigation__toggle" data-action="click->navigation#toggle">
        <img src="/static_assets/icons/list.svg" alt="navigation icon">
        <span class="visually-hidden">Alternar navegação</span>
      </button>

      <ol class="navigation__list">
        <li class="navigation__item">
          <a class="navigation__link {% if page.url == '/' %}is-active{% endif %}" href="/">Início</a>
        </li>
        <li class="navigation__item">
          <span class="navigation__label">Categorias</span>

          <ol class="navigation__sub-list">
            <li class="navigation__item">
              <a class="navigation__link {% if page.url.includes('/ensaio/') %}is-active{% endif %}" href="/ensaio/">Ensaio</a>
            </li>
            <li class="navigation__item">
              <a class="navigation__link {% if page.url.includes('/opiniao/') %}is-active{% endif %}" href="/opiniao/">Opinião</a>
            </li>
            <li class="navigation__item">
              <a class="navigation__link {% if page.url.includes('/actualidade/') %}is-active{% endif %}" href="/actualidade/">Actualidade</a>
            </li>
          </ol>
        </li>

        {% set makes = collections.post | getMakes() %}
        {% if makes.length %}
          <li class="navigation__item">
            <span class="navigation__label">Fabricantes</span>

            <ol class="navigation__sub-list">
              {% for make in makes %}
              {% set makeSlug = make | slugify %}
                <li class="navigation__item">
                  <a class="navigation__link {% if page.url.includes('/' + makeSlug) %}is-active{% endif %}" href="/{{ makeSlug }}/">{{ make }}</a>
                </li>
              {% endfor %}
            </ol>
          </li>
        {% endif %}

        <li class="navigation__item">
          <span class="navigation__label">Redes</span>

          <ol class="navigation__sub-list">
            <li class="navigation__item">
              <a class="navigation__link" href="https://twitter.com/semanticarpt">Twitter</a>
            </li>
            <li class="navigation__item">
              <a class="navigation__link" href="https://instagram.com/semanticar">Instagram</a>
            </li>
          </ol>
        </li>
      </ol>
    </div>
  </div>
</nav>
